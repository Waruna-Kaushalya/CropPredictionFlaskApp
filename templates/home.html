<!DOCTYPE html>
<html>

<head>
  <meta content="utf-8" http-equiv="encoding" ame="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet"
    id="bootstrap-css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-validator/0.4.5/css/bootstrapvalidator.min.css"
    rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.4.0.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>

  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/style.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/style2.css') }}">

  <title>Upcountry vegetable crop yield prediction</title>
</head>

<body>
  <h1>
    <div style="text-align:center">
      <h1 style="color:green;">Vegetable Production and Extend of Land Prediction</H1>
    </div>
  </h1>

  <hr>
  <div class="container">
    <ul class="nav nav-tabs">
      <li class="active"><a data-toggle="tab" href="#home">Single Value Prediction</a></li>
      <li><a data-toggle="tab" href="#menu1">Multiple Value Prediction</a></li>
      <li><a data-toggle="tab" href="#menu2">Train the model</a></li>
      <!-- <li><a data-toggle="tab" href="#menu3">Train model</a></li> -->
    </ul>

    <div class="tab-content">
      <div id="home" class="tab-pane fade in active">
        <!-- home -->
        <h3>Performing a single prediction</h3>
        <hr>

        <form id="containerForm" class="form-horizontal" method="POST" action="/predict">
          <div class="form-group">
            <div class="col-sm-5">
              <label for="DistrictName">Choose a District:</label>
              <select name="DistrictName" id="DistrictName" class="form-control">
                <option value="[1,0,0,0,0]">Badulla</option>
                <option value="[0,1,0,0,0]">Kandy</option>
                <option value="[0,0,1,0,0]">Matale</option>
                <option value="[0,0,0,1,0]">Nuwaraeliya</option>
                <option value="[0,0,0,0,1]">Ratnapura</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-5">
              <label for="VegetableType">Choose a vegetable type:</label>
              <select name="VegetableType" id="VegetableType" class="form-control">
                <option value="[1,0,0,0,0]">Beans</option>
                <option value="[0,1,0,0,0]">Beetroot</option>
                <option value="[0,0,1,0,0]">Carrot</option>
                <option value="[0,0,0,1,0]">Knohkhol</option>
                <option value="[0,0,0,0,1]">Leeks</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-5">
              <label>Rainfall</label>
              <div class="input-group">
                <input type="text" class="form-control" name="Rainfall" />
                <span class="input-group-addon">mm</span>
              </div>
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-5">
              <label>Maximum Temperature:</label>
              <div class="input-group">
                <input type="text" class="form-control" name="MaximumTemperature" />
                <span class="input-group-addon">c</span>
              </div>
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-5">
              <label>Minimum Temperature:</label>
              <div class="input-group">
                <input type="text" class="form-control" name="MinimumTemperature" />
                <span class="input-group-addon">c</span>
              </div>
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-5">
              <label>Relative Humidity:</label>
              <div class="input-group">
                <input type="text" class="form-control" name="RelativeHumidity" />
                <span class="input-group-addon">%</span>
              </div>
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-5">
              <label>Pressure:</label>
              <div class="input-group">
                <input type="text" class="form-control" name="Pressure" />
                <span class="input-group-addon">kPa</span>
              </div>
            </div>
          </div>
          <br>


          <div class="form-group">
            <div class="col-sm-5">

              <!-- <input class='btn btn-primary' type='submit' value='Predict the values'></button> -->
              <input class="btn btn-primary btn-lg btn-block" type='submit' value='Predict the values'></button>
              {{predictServerMsg}}
            </div>
          </div>


          <hr>
          <div class="form-group">
            <div class="col-sm-5">
              <label>Extent:</label>
              <div class="input-group">
                <label for="Extent" class="form-control">{{extentPrediction}}</label>
                <span class="input-group-addon">Ht</span>
              </div>
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-5">
              <label>Production:</label>
              <div class="input-group">
                <label for="Extent" class="form-control">{{predictionProduction}}</label>
                <span class="input-group-addon">Mt</span>
              </div>
            </div>
          </div>
        </form>
        <hr>
        <!-- End home -->
      </div>

      <div id="menu1" class="tab-pane fade">
        <!-- Menu 1 -->
        <h3>Performing a series of predictions simultaneously</h3>
        <hr>
        <div id="wrapper">
          <div id="page-wrapper">
            <div class="container-fluid">
              <div class="row" id="main">
                <form action="/csvimport" method="POST" enctype="multipart/form-data">
                  <div class="form-group">
                    <label>Choose a file to upload</label>
                    <br>
                    <input type="file" name="file" value="file">
                    <br>
                    <input type="submit" name="upload" value="Upload" class="btn btn-success">
                    {{msg}}
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <hr>
        <form id="containerForm" class="form-horizontal" method="POST" action="/predictcsvfile">
          <div class="form-group">
            <div class="col-sm-5">
              <label>Make the prediction</label>
              <br>
              <br>
              <input class='btn btn-primary' type='submit' value='Train model' </button>
              {{modelTrain}}
            </div>
          </div>
        </form>
        <hr>
        <!-- ------------------- -->
        <div id="wrapper">
          <div id="page-wrapper">
            <div class="container-fluid">
              <div class="row" id="main">
                <form action="/showcsvtables" method="POST" enctype="multipart/form-data">
                  <div class="form-group">

                    <label>Get the result of prediction</label>

                    <br>
                    <br>
                    <input type='submit' value='Show result' name="upload" class="btn btn-success">
                    {{msg}}
                  </div>

                  <hr>
                  <!-- ------------------- -->
                  <label>Result of prediction</label>
                  <br>
                  <br>
                  {% for table in tables %}
                  {{titles[loop.index]}}
                  {{ table|safe }}
                  {% endfor %}
                  <!-- Menu 1 end  -->
                </form>
              </div>
            </div>
          </div>
        </div>

        <!-- -- -->
      </div>

      <div id="menu2" class="tab-pane fade">
        <!-- Menu 2 -->
        <h3>Import data and train the model</h3>
        <hr>
        <div id="wrapper">
          <div id="page-wrapper">
            <div class="container-fluid">
              <div class="row" id="main">
                <form action="/upload" method="POST" enctype="multipart/form-data">
                  <div class="form-group">
                    <label>Choose a file to upload</label>
                    <br>
                    <input type="file" name="file" value="file">
                    <br>
                    <input type="submit" name="upload" value="Upload" class="btn btn-success">
                    {{msg}}
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <hr>
        <!-- ------------------- -->
        <form id="containerForm" class="form-horizontal" method="POST" action="/train">
          <div class="form-group">
            <div class="col-sm-5">
              <label>Train the model</label>
              <br>
              <input class='btn btn-primary' type='submit' value='Train model' </button>
              {{modelTrain}}
            </div>
          </div>
        </form>
        <!-- Menu 2 end  -->
      </div>
      <!-- 
      <div id="menu3" class="tab-pane fade">
      </div>
 -->
    </div>
  </div>

  <script type="text/javascript" src="{{ url_for('static', filename='validatorcustomescript.js') }}"></script>
  <script type="text/javascript" src="{{ url_for('static', filename='bootstrapvalidator.js') }}"></script>

</body>

</html>